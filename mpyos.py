import utime
import pickle
import apps as appio

apps = {}


def clear():
    print("\x1B\x5B2J", end="")
    print("\x1B\x5BH", end="")


def bootscreen():
    print(
        r""" 
          __       __  __                                _______              ______    ______  
        |  \     /  \|  \                              |       \            /      \  /      \ 
        | $$\   /  $$ \$$  _______   ______    ______  | $$$$$$$\ __    __ |  $$$$$$\|  $$$$$$\
        | $$$\ /  $$$|  \ /       \ /      \  /      \ | $$__/ $$|  \  |  \| $$  | $$| $$___\$$
        | $$$$\  $$$$| $$|  $$$$$$$|  $$$$$$\|  $$$$$$\| $$    $$| $$  | $$| $$  | $$ \$$    \ 
        | $$\$$ $$ $$| $$| $$      | $$   \$$| $$  | $$| $$$$$$$ | $$  | $$| $$  | $$ _\$$$$$$\
        | $$ \$$$| $$| $$| $$_____ | $$      | $$__/ $$| $$      | $$__/ $$| $$__/ $$|  \__| $$
        | $$  \$ | $$| $$ \$$     \| $$       \$$    $$| $$       \$$    $$ \$$    $$ \$$    $$
         \$$      \$$ \$$  \$$$$$$$ \$$        \$$$$$$  \$$       _\$$$$$$$  \$$$$$$   \$$$$$$ 
                                                                 |  \__| $$                    
                                                                  \$$    $$                    
                                                                   \$$$$$$
                                        -___                     
        """
    )
    utime.sleep(1)
    clear()
    print(
        r""" 
          __       __  __                                _______              ______    ______  
        |  \     /  \|  \                              |       \            /      \  /      \ 
        | $$\   /  $$ \$$  _______   ______    ______  | $$$$$$$\ __    __ |  $$$$$$\|  $$$$$$\
        | $$$\ /  $$$|  \ /       \ /      \  /      \ | $$__/ $$|  \  |  \| $$  | $$| $$___\$$
        | $$$$\  $$$$| $$|  $$$$$$$|  $$$$$$\|  $$$$$$\| $$    $$| $$  | $$| $$  | $$ \$$    \ 
        | $$\$$ $$ $$| $$| $$      | $$   \$$| $$  | $$| $$$$$$$ | $$  | $$| $$  | $$ _\$$$$$$\
        | $$ \$$$| $$| $$| $$_____ | $$      | $$__/ $$| $$      | $$__/ $$| $$__/ $$|  \__| $$
        | $$  \$ | $$| $$ \$$     \| $$       \$$    $$| $$       \$$    $$ \$$    $$ \$$    $$
         \$$      \$$ \$$  \$$$$$$$ \$$        \$$$$$$  \$$       _\$$$$$$$  \$$$$$$   \$$$$$$ 
                                                                 |  \__| $$                    
                                                                  \$$    $$                    
                                                                   \$$$$$$
                                        _-__                     
        """
    )
    utime.sleep(1)
    clear()
    print(
        r""" 
          __       __  __                                _______              ______    ______  
        |  \     /  \|  \                              |       \            /      \  /      \ 
        | $$\   /  $$ \$$  _______   ______    ______  | $$$$$$$\ __    __ |  $$$$$$\|  $$$$$$\
        | $$$\ /  $$$|  \ /       \ /      \  /      \ | $$__/ $$|  \  |  \| $$  | $$| $$___\$$
        | $$$$\  $$$$| $$|  $$$$$$$|  $$$$$$\|  $$$$$$\| $$    $$| $$  | $$| $$  | $$ \$$    \ 
        | $$\$$ $$ $$| $$| $$      | $$   \$$| $$  | $$| $$$$$$$ | $$  | $$| $$  | $$ _\$$$$$$\
        | $$ \$$$| $$| $$| $$_____ | $$      | $$__/ $$| $$      | $$__/ $$| $$__/ $$|  \__| $$
        | $$  \$ | $$| $$ \$$     \| $$       \$$    $$| $$       \$$    $$ \$$    $$ \$$    $$
         \$$      \$$ \$$  \$$$$$$$ \$$        \$$$$$$  \$$       _\$$$$$$$  \$$$$$$   \$$$$$$ 
                                                                 |  \__| $$                    
                                                                  \$$    $$                    
                                                                   \$$$$$$
                                        __-_                     
        """
    )
    utime.sleep(1)
    clear()
    print(
        r""" 
          __       __  __                                _______              ______    ______  
        |  \     /  \|  \                              |       \            /      \  /      \ 
        | $$\   /  $$ \$$  _______   ______    ______  | $$$$$$$\ __    __ |  $$$$$$\|  $$$$$$\
        | $$$\ /  $$$|  \ /       \ /      \  /      \ | $$__/ $$|  \  |  \| $$  | $$| $$___\$$
        | $$$$\  $$$$| $$|  $$$$$$$|  $$$$$$\|  $$$$$$\| $$    $$| $$  | $$| $$  | $$ \$$    \ 
        | $$\$$ $$ $$| $$| $$      | $$   \$$| $$  | $$| $$$$$$$ | $$  | $$| $$  | $$ _\$$$$$$\
        | $$ \$$$| $$| $$| $$_____ | $$      | $$__/ $$| $$      | $$__/ $$| $$__/ $$|  \__| $$
        | $$  \$ | $$| $$ \$$     \| $$       \$$    $$| $$       \$$    $$ \$$    $$ \$$    $$
         \$$      \$$ \$$  \$$$$$$$ \$$        \$$$$$$  \$$       _\$$$$$$$  \$$$$$$   \$$$$$$ 
                                                                 |  \__| $$                    
                                                                  \$$    $$                    
                                                                   \$$$$$$
                                        ___-                     
        """
    )
    utime.sleep(1)
    clear()
    print(
        r""" 
          __       __  __                                _______              ______    ______  
        |  \     /  \|  \                              |       \            /      \  /      \ 
        | $$\   /  $$ \$$  _______   ______    ______  | $$$$$$$\ __    __ |  $$$$$$\|  $$$$$$\
        | $$$\ /  $$$|  \ /       \ /      \  /      \ | $$__/ $$|  \  |  \| $$  | $$| $$___\$$
        | $$$$\  $$$$| $$|  $$$$$$$|  $$$$$$\|  $$$$$$\| $$    $$| $$  | $$| $$  | $$ \$$    \ 
        | $$\$$ $$ $$| $$| $$      | $$   \$$| $$  | $$| $$$$$$$ | $$  | $$| $$  | $$ _\$$$$$$\
        | $$ \$$$| $$| $$| $$_____ | $$      | $$__/ $$| $$      | $$__/ $$| $$__/ $$|  \__| $$
        | $$  \$ | $$| $$ \$$     \| $$       \$$    $$| $$       \$$    $$ \$$    $$ \$$    $$
         \$$      \$$ \$$  \$$$$$$$ \$$        \$$$$$$  \$$       _\$$$$$$$  \$$$$$$   \$$$$$$ 
                                                                 |  \__| $$                    
                                                                  \$$    $$                    
                                                                   \$$$$$$
                                        FINISHED LOADING MICROPYOS                     
        """
    )
    utime.sleep(1)
    clear()


def mpyos(booscreen=True):
    if booscreen:
        bootscreen()
    print("Here Is An App List From MICRO Py OS:\n")
    with open("apps.pk") as f:
        apps = pickle.load(f)
        for app in apps:
            print("* " + app)
        runapp = input("\nType The App name below\n>")
    if runapp:
        if not runapp in apps:
            print("Invalid Option Restarting...")
            utime.sleep(1)
            clear()
            mpyos(booscreen=False)
        clear()  # Clear Screen
        runapp = apps[runapp]
        exec("appio." + runapp + '({"NOTIMP":"NOTIMP"})')
    clear()
    mpyos(booscreen=False)
